<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MindDeck Flashcards — Decks</title>
  <meta name="description" content="Your flashcard decks" />
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header>
      <h1>MindDeck Flashcards</h1>
      <nav aria-label="Main navigation">
        <a href="index.html">Home</a>
        <a href="decks.html" aria-current="page" id="nav-decks">Decks</a>
        <a href="about.html">About</a>
      </nav>
    </header>

    <main>
      <section class="hero" aria-labelledby="hero-title">
        <h2 id="hero-title">Your decks</h2>
        <p>Manage decks and add cards here.</p>
        <p>
          <button id="create-deck-btn" class="btn" type="button" data-action="add-deck">Create a deck</button>
        </p>
        <p style="margin-top:.5rem;display:flex;gap:.5rem;align-items:center">
          <button id="export-decks" class="btn small" type="button">Export decks</button>
          <label id="import-label" class="btn small ghost" style="cursor:pointer">
            Import
            <input id="import-file" type="file" accept="application/json" style="display:none">
          </label>
        </p>
      </section>

      <!-- Decks: list + create form (same structure app.js expects) -->
      <section id="decks" aria-labelledby="decks-title" style="margin-top:1.25rem">
        <h3 id="decks-title">Your decks</h3>
        <div id="decks-list" class="grid" aria-live="polite"></div>

        <form id="create-deck-form" class="create-deck-flashcard" style="display:none;margin-top:2rem" aria-hidden="true">
          <div class="create-deck-container">
            <div class="create-deck-card">
              <div class="create-deck-header">
                <h3>Create New Deck</h3>
                <p class="create-deck-subtitle">Build your flashcard collection</p>
              </div>
              <div class="create-deck-body">
                <div class="form-field">
                  <label for="deck-name">Deck name</label>
                  <input id="deck-name" name="name" type="text" required placeholder="e.g. Spanish verbs">
                </div>
                <div class="form-field">
                  <label for="deck-desc">Description <span class="optional">(optional)</span></label>
                  <textarea id="deck-desc" name="description" rows="3" placeholder="Short description of what you'll learn..."></textarea>
                </div>
              </div>
              <div class="create-deck-actions">
                <button type="submit" class="btn" data-action="create-deck">Create Deck</button>
                <button id="create-deck-cancel" type="button" class="btn ghost">Cancel</button>
              </div>
            </div>
          </div>
        </form>
      </section>

      <!-- Deck detail (hidden until a deck is selected) -->
      <aside id="deck-detail" class="card" style="display:none;margin-top:1.25rem" aria-hidden="true">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:1rem">
          <h3 id="deck-detail-title">Deck</h3>
          <div style="display:flex;gap:.5rem;align-items:center">
            <button id="start-study" class="btn small" type="button">Study</button>
            <button id="deck-detail-close" class="btn ghost" type="button">Close</button>
          </div>
        </div>

        <div id="deck-cards" style="margin-top:1rem">
          <h4>Cards</h4>
          <div id="deck-cards-list" class="grid" aria-live="polite"></div>
        </div>

        <div id="study-view" class="study-view" aria-hidden="true">
          <div class="study-card" tabindex="0">
            <div class="front" id="study-front"></div>
            <div class="back" id="study-back" style="display:none"></div>
          </div>
          <div class="study-meta">
            <div id="study-progress-text" class="muted small-text" aria-live="polite"></div>
            <div class="study-progress-bar" aria-hidden="true">
              <div id="study-progress-inner"></div>
            </div>
          </div>
          <div class="study-controls">
            <button id="study-prev" class="btn small ghost" type="button">Prev</button>
            <button id="study-flip" class="btn small" type="button">Flip</button>
            <button id="study-next" class="btn small" type="button">Next</button>
            <button id="study-exit" class="btn ghost small" type="button">Exit</button>
          </div>
        </div>

        <form id="add-card-form" style="margin-top:1rem;display:flex;flex-direction:column;gap:.5rem">
          <label for="card-front">Front (question)</label>
          <input id="card-front" name="front" type="text" placeholder="Term or question" required>

          <label for="card-back">Back (answer)</label>
          <input id="card-back" name="back" type="text" placeholder="Definition or answer" required>

          <div style="display:flex;gap:.5rem;margin-top:.5rem">
            <button type="submit" class="btn" data-action="add-card">Add card</button>
            <button id="add-card-cancel" type="button" class="btn ghost">Cancel</button>
          </div>
        </form>
      </aside>

    </main>

    <footer>
      <p>© <span id="year"></span> Karys Dove (originally WWWW Flashcards) — Minimal prototype</p>
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script src="app.js"></script>
  <!-- Modal (shared) -->
  <div id="modal-overlay" class="modal-overlay" style="display:none" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <header>
        <h3 id="modal-title">Edit</h3>
        <button id="modal-close" class="btn ghost small" type="button">Close</button>
      </header>
      <div class="modal-body" id="modal-body"></div>
      <div class="modal-actions" id="modal-actions"></div>
    </div>
  </div>
</body>
</html>
